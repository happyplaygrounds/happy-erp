<div class="container mb-5">
  <h2>Happy Project for <%= @happyCustomer.customer_name %> </h2>
  <br>

  <%#= link_to 'Home', root_path %>

<%= simple_form_for @happyProject,
  wrapper: :vertical_form,
  wrapper_mappings: {
    boolean:       :vertical_boolean,
    check_boxes:   :vertical_collection,
    date:          :vertical_multi_select,
    datetime:      :vertical_multi_select,
    file:          :vertical_file,
    radio_buttons: :vertical_collection,
    range:         :vertical_range,
    time:          :vertical_multi_select
  } do |f| %>

  <%= f.error_notification %>

    <ul>
    <% @happyProject.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
    </ul>

  <div class="form-group row">
    <div class="col-3">
        <%= f.input :project_name, label: false, placeholder:  "Project Name", input_html: { size:20 } %>
    </div>
    <div class="col-9">
        <%= f.input :description, label: false, placeholder:  "Description", input_html: { size:40 } %>
    </div>
  </div>



  <div class="form-group row">
    <div class="col-4">
        <%= f.input :site_contact_name, input_html: {size:20 } %>
    </div>
    <div class="col-4">
        <%#= f.input :project_type, label: false, placeholder:  "Project type" %>
        <%= f.input :project_type, collection: [['General Contractor','General Contractor'], ['Happy GC','Happy GC']] %>
    </div>

    <!-- <div class="col-4">
        <%#= f.input :first_name, label: false, placeholder:  "First Name", input_html: { maxlength: 20, size:30 } %>
    </div>
    -->

    <!-- <div class="col-4">
        <%#= f.input :last_name, label: false, placeholder:  "Last Name" %>
    </div> -->
  </div>


  <div class="form-group row">
    <div class="col-4">
      <%= f.input :site_contact_phone, label: false, placeholder:  "Site Contact Phone" %>
    </div>

    <div class="col-4">
      <%= f.input :site_contact_email, label: false, placeholder:  "Site Contact Email" %>
    </div>

    <div class="col-4">
      <%= f.input :general_contractor, label: false, placeholder:  "General Contractor" %>
    </div>
  </div>



  <div class="form-group row">
    <div class="col-6">
       <% if f.object.planned_start_date %>
        <%= f.input :planned_start_date, as: :date, start_year: Date.today.year, order: [:month, :day, :year], :include_blank => true %>
      <% else %>
        <%= f.input :planned_start_date, as: :date, start_year: Date.today.year, order: [:month, :day, :year], :include_blank => true, selected: 0  %>
      <% end %>
    </div>
    <div class="col-6">
      <% if f.object.planned_end_date %>
        <%= f.input :planned_end_date, as: :date, start_year: Date.today.year, order: [:month, :day, :year], :include_blank => true %>
      <% else %>
        <%= f.input :planned_end_date, as: :date, start_year: Date.today.year, order: [:month, :day, :year], :include_blank => true, selected: 0  %>
      <% end %>
    </div>
  </div>


  <div class="form-group row">
    <div class="col-6">
      <% if f.object.actual_start_date %>
        <%= f.input :actual_start_date, as: :date, start_year: Date.today.year, order: [:month, :day, :year], :include_blank => true %>
      <% else %>
        <%= f.input :actual_start_date, as: :date, start_year: Date.today.year, order: [:month, :day, :year], :include_blank => true, selected: 0  %>
      <% end %> 
    </div>
    <div class="col-6">
        <% if f.object.actual_end_date %>
        <%= f.input :actual_end_date, as: :date, start_year: Date.today.year, order: [:month, :day, :year], :include_blank => true %>
      <% else %>
        <%= f.input :actual_end_date, as: :date, start_year: Date.today.year, order: [:month, :day, :year], :include_blank => true, selected: 0  %>
      <% end %> 
    </div>
  </div>

  <div class="form-group row">
    <div class="col-6">
        <%= f.input :planned_budget %>
    </div>
    <div class="col-6">
        <%= f.input :actual_budget %>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-6">
      <%= f.input :external_notes, label: false, placeholder: "External Notes"%>
    </div>
    <div class="col-6">
      <%= f.input :internal_notes, label: false, placeholder: "Internal Notes"%>
    </div>
  </div>

  <div class="form-group row">
    <!-- <div class="col-6">
        <%= f.input :reminder_date %>
        <%= f.input :is_reminder, label: "Send Reminder"%>
    </div> -->
    <%= f.input :happy_customer_id, :as => :hidden, :input_html => { :value => @happyCustomer.id } %>
    <%= f.input :happy_quote_id, :as => :hidden, :input_html => { :value => @happyQuote.id } %>
    <%= f.input :happy_install_site_id, :as => :hidden, :input_html => { :value => @happyInstallSite.id } %>
  </div>

  <div class="form-group row mb-0">
    <div class="col-sm-9">
      <%= f.button :submit, class: "btn-primary" %>
      <%= link_to "Cancel", :back, class: "btn btn-outline-secondary" %>
    </div>
  </div>

<% end %>
</div>
